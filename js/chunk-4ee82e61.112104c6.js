(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ee82e61"],{"02d4":function(e,t,o){"use strict";o.r(t);var a=o("7a23"),c=Object(a["createVNode"])("div",{class:"container pt-5"},[Object(a["createVNode"])("div",{class:"pt-5 pb-3"},[Object(a["createVNode"])("h2",{class:"fw-bold"},"Checkout")])],-1),r={class:"container pt-2"},n={class:"row"},s={class:"col-lg-7"},l={class:"col-lg-5 pb-3"},i={class:"bg-info rounded-3"},d=Object(a["createVNode"])("h3",{class:"text-xl rounded-top fw-bold text-light p-3"},"Checkout List",-1),u={class:"row g-0 p-4 rounded-3 border border-primary bg-table text-light bg-primary"},b=Object(a["createVNode"])("div",{class:"col-8 mb-4"},[Object(a["createVNode"])("p",{class:"text-light"},"Products List：")],-1),m={class:"col-7"},f={class:"d-flex align-items-center"},p={class:"col-1"},O={class:"col-4"},h=Object(a["createVNode"])("div",{class:"col-4 mb-2 pt-2"},[Object(a["createVNode"])("p",null,"SubTotal：")],-1),j={class:"col-8 mb-2 text-end pt-2"},v=Object(a["createVNode"])("div",{class:"col-4 mb-4"},[Object(a["createVNode"])("p",{class:"fw-bold"},"Total：")],-1),V={class:"col-8 mb-4 text-end"},N={class:"fw-bold"};function g(e,t,o,g,w,y){var x=Object(a["resolveComponent"])("Loading"),C=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])("section",null,[Object(a["createVNode"])(x,{"is-loading":w.isLoading},null,8,["is-loading"]),c,Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",n,[Object(a["createVNode"])("div",s,[Object(a["createVNode"])(C)]),Object(a["createVNode"])("div",l,[Object(a["createVNode"])("div",i,[d,Object(a["createVNode"])("div",u,[b,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(w.cart,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:t.id,class:"row py-4 align-items-center text-white border-bottom "},[Object(a["createVNode"])("div",m,[Object(a["createVNode"])("div",f,[Object(a["createVNode"])("img",{class:"w-40 me-4",src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"]),Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.product.title),1)])]),Object(a["createVNode"])("div",p,[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.qty),1)]),Object(a["createVNode"])("div",O,[Object(a["createVNode"])("p",null,"NT$"+Object(a["toDisplayString"])(e.$toCurrency(t.total)),1)])])})),128)),h,Object(a["createVNode"])("div",j,[Object(a["createVNode"])("p",null,"NT$"+Object(a["toDisplayString"])(e.$toCurrency(w.total)),1)]),v,Object(a["createVNode"])("div",V,[Object(a["createVNode"])("p",N,"NT$"+Object(a["toDisplayString"])(e.$toCurrency(w.final_total)),1)])])])])])])])}o("99af"),o("b0c0");var w=Object(a["createVNode"])("p",{class:"text-primary pt-4"},"Customer Information",-1),y={class:"form-floating form-downline mb-3"},x=Object(a["createVNode"])("label",{for:"name",class:"form-label"},[Object(a["createTextVNode"])("NAME "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),C={class:"form-floating form-downline mb-3"},k=Object(a["createVNode"])("label",{for:"email"},[Object(a["createTextVNode"])("Email "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),T={class:"form-floating form-downline mb-3"},L=Object(a["createVNode"])("label",{for:"tel"},[Object(a["createTextVNode"])("Phone "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),$={class:"form-floating form-downline mb-4"},B=Object(a["createVNode"])("label",{for:"address"},[Object(a["createTextVNode"])("Address "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),P={class:"mb-8"},S=Object(a["createVNode"])("label",{for:"exampleFormControlTextarea1",class:"form-label text-dark pt-1"},"NOTE：",-1),F={class:"form-check mb-3"},A=Object(a["createVNode"])("label",{class:"form-check-label text-dark",for:"flexCheckChecked"},[Object(a["createTextVNode"])(" I agree to the Trems of Service and Privacy Policy"),Object(a["createVNode"])("sup",null,"*")],-1),E=Object(a["createVNode"])("button",{type:"submit",class:"w-100 btn-lg btn btn-secondary secondary-hover text-white shadow-sm mb-6"}," Next Step ",-1);function I(e,t,o,c,r,n){var s=Object(a["resolveComponent"])("Loading"),l=Object(a["resolveComponent"])("Field"),i=Object(a["resolveComponent"])("ErrorMessage"),d=Object(a["resolveComponent"])("Form",!0);return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(s,{"is-loading":r.isLoading},null,8,["is-loading"]),w,Object(a["createVNode"])(d,{ref:"form",onSubmit:n.onSubmit,class:" rounded-bottom pt-2 pb-4"},{default:Object(a["withCtx"])((function(e){var o=e.errors;return[Object(a["createVNode"])("div",y,[Object(a["createVNode"])(l,{id:"name",name:"name",type:"text",class:["form-control",{"is-invalid":o["name"]}],placeholder:"Please enter your name",rules:"required",modelValue:r.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.form.user.name=e})},null,8,["class","modelValue"]),x,Object(a["createVNode"])(i,{name:"name",class:"invalid-feedback"})]),Object(a["createVNode"])("div",C,[Object(a["createVNode"])(l,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":o["email"]}],placeholder:"Please enter your Email",rules:"email|required",modelValue:r.form.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.form.user.email=e})},null,8,["class","modelValue"]),k,Object(a["createVNode"])(i,{name:"email",class:"invalid-feedback"})]),Object(a["createVNode"])("div",T,[Object(a["createVNode"])(l,{id:"tel",name:"Phone",type:"tel",class:["form-control",{"is-invalid":o["Phone"]}],placeholder:"Please enter your Phone",rules:n.isPhone,modelValue:r.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.form.user.tel=e})},null,8,["class","rules","modelValue"]),L,Object(a["createVNode"])(i,{name:"Phone",class:"invalid-feedback"})]),Object(a["createVNode"])("div",$,[Object(a["createVNode"])(l,{id:"address",name:"address",type:"text",class:["form-control",{"is-invalid":o["address"]}],placeholder:"Please enter address",rules:"required",modelValue:r.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.form.user.address=e})},null,8,["class","modelValue"]),B,Object(a["createVNode"])(i,{name:"address",class:"invalid-feedback"})]),Object(a["createVNode"])("div",P,[S,Object(a["withDirectives"])(Object(a["createVNode"])("textarea",{class:"form-control bg-transparent border-secondary",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.form.message=e})},null,512),[[a["vModelText"],r.form.message]])]),Object(a["createVNode"])("div",F,[Object(a["createVNode"])(l,{class:["form-check-input",{"is-invalid":o["check"]}],id:"flexCheckChecked",name:"check",type:"checkbox",value:"checked",rules:n.isChecked},null,8,["class","rules"]),A,Object(a["createVNode"])(i,{name:"check",class:"invalid-feedback"})]),E]})),_:1},8,["onSubmit"])],64)}var _=o("4dcd"),U={data:function(){return{isLoading:!1,form:{user:{name:"",email:"",tel:"",Address:""},message:""}}},methods:{isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"Please enter in a valid phone number"},isChecked:function(e){return!(!e||!e.length)||"Please read and confirmed"},onSubmit:function(){var e=this,t={data:this.form};this.isLoading=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("vueliveclass","/order"),t).then((function(t){t.data.success?(_["a"].emit("update-cart"),e.$refs.form.resetForm(),e.$router.push({name:"check",params:{order:t.data.orderId}}),e.isLoading=!1,e.$moshaToast({title:"update successfully"},{showIcon:!0,showCloseButton:!0,timeout:3e3,swipeClose:!0,type:"success",transition:"slide"})):(e.isLoading=!1,e.$moshaToast({title:"Something went wrong"},{showIcon:!0,showCloseButton:!0,timeout:3e3,swipeClose:!0,type:"warning",transition:"slide"}))})).catch((function(){e.$moshaToast({title:"Something went wrong"},{showIcon:"true",showCloseButton:"true",timeout:3e3,swipeClose:"true",type:"warning",transition:"slide"})}))}}};U.render=I;var q=U,D=o("3a5e"),M={data:function(){return{cart:[],final_total:0,total:0,isLoading:!1,useCoupon:!1}},components:{Form:q,Loading:D["a"]},methods:{getCart:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("vueliveclass","/cart");this.$http.get(t).then((function(t){t.data.success?(e.cart=t.data.data.carts,e.final_total=Math.round(t.data.data.final_total),e.total=t.data.data.total,e.total!==e.final_total&&0!==e.final_total?e.useCoupon=!0:e.useCoupon=!1,e.isLoading=!1,e.cart.length<=0&&(e.$moshaToast({title:"Order has been send! Connect to server for having problems"},{showIcon:!0,showCloseButton:!0,timeout:3e3,swipeClose:!0,type:"success",transition:"slide"}),e.$router.push("/products"))):e.isLoading=!1})).catch((function(){e.$moshaToast({title:"ERROR"},{showIcon:!0,showCloseButton:!0,timeout:3e3,swipeClose:!0,type:"warning",transition:"slide"})}))}},mounted:function(){this.getCart()}};M.render=g;t["default"]=M},"1dde":function(e,t,o){var a=o("d039"),c=o("b622"),r=o("2d00"),n=c("species");e.exports=function(e){return r>=51||!a((function(){var t=[],o=t.constructor={};return o[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"3a5e":function(e,t,o){"use strict";var a=o("7a23"),c=Object(a["createVNode"])("div",{class:"loadingio-spinner-pulse-l41p5goehyp"},[Object(a["createVNode"])("div",{class:"ldio-hyq1cgqd55a"},[Object(a["createVNode"])("div"),Object(a["createVNode"])("div"),Object(a["createVNode"])("div")])],-1);function r(e,t,o,r,n,s){var l=Object(a["resolveComponent"])("loading",!0);return Object(a["openBlock"])(),Object(a["createBlock"])(l,{active:e.isLoading,"onUpdate:active":t[1]||(t[1]=function(t){return e.isLoading=t})},{default:Object(a["withCtx"])((function(){return[c]})),_:1},8,["active"])}var n={props:["is-loading"]};n.render=r;t["a"]=n},"4dcd":function(e,t,o){"use strict";var a=function(e){return{all:e=e||new Map,on:function(t,o){var a=e.get(t);a?a.push(o):e.set(t,[o])},off:function(t,o){var a=e.get(t);a&&(o?a.splice(a.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var a=e.get(t);a&&a.slice().map((function(e){e(o)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,o)}))}}},c=a();t["a"]=c},"65f0":function(e,t,o){var a=o("861d"),c=o("e8b5"),r=o("b622"),n=r("species");e.exports=function(e,t){var o;return c(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!c(o.prototype)?a(o)&&(o=o[n],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}},8418:function(e,t,o){"use strict";var a=o("c04e"),c=o("9bf2"),r=o("5c6c");e.exports=function(e,t,o){var n=a(t);n in e?c.f(e,n,r(0,o)):e[n]=o}},"99af":function(e,t,o){"use strict";var a=o("23e7"),c=o("d039"),r=o("e8b5"),n=o("861d"),s=o("7b0b"),l=o("50c4"),i=o("8418"),d=o("65f0"),u=o("1dde"),b=o("b622"),m=o("2d00"),f=b("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",h=m>=51||!c((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),j=u("concat"),v=function(e){if(!n(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)},V=!h||!j;a({target:"Array",proto:!0,forced:V},{concat:function(e){var t,o,a,c,r,n=s(this),u=d(n,0),b=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?n:arguments[t],v(r)){if(c=l(r.length),b+c>p)throw TypeError(O);for(o=0;o<c;o++,b++)o in r&&i(u,b,r[o])}else{if(b>=p)throw TypeError(O);i(u,b++,r)}return u.length=b,u}})},b0c0:function(e,t,o){var a=o("83ab"),c=o("9bf2").f,r=Function.prototype,n=r.toString,s=/^\s*function ([^ (]*)/,l="name";a&&!(l in r)&&c(r,l,{configurable:!0,get:function(){try{return n.call(this).match(s)[1]}catch(e){return""}}})},e8b5:function(e,t,o){var a=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-4ee82e61.112104c6.js.map
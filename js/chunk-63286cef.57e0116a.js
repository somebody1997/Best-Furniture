(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63286cef"],{"057f":function(e,t,r){var o=r("fc6a"),c=r("241c").f,a={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return c(e)}catch(t){return n.slice()}};e.exports.f=function(e){return n&&"[object Window]"==a.call(e)?i(e):c(o(e))}},"159b":function(e,t,r){var o=r("da84"),c=r("fdbc"),a=r("17c2"),n=r("9112");for(var i in c){var d=o[i],l=d&&d.prototype;if(l&&l.forEach!==a)try{n(l,"forEach",a)}catch(s){l.forEach=a}}},"17c2":function(e,t,r){"use strict";var o=r("b727").forEach,c=r("a640"),a=c("forEach");e.exports=a?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"4de4":function(e,t,r){"use strict";var o=r("23e7"),c=r("b727").filter,a=r("1dde"),n=a("filter");o({target:"Array",proto:!0,forced:!n},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5be2":function(e,t,r){"use strict";r.r(t);r("b0c0");var o=r("7a23"),c={class:"sticky-top bg-white ps-2 py-3 mb-1"},a=Object(o["createVNode"])("h2",{class:"h3"},"ORDERS",-1),n={class:"d-flex justify-content-xl-end"},i={class:"table my-3"},d=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{width:"120"},"Orderer"),Object(o["createVNode"])("th",null,"Email"),Object(o["createVNode"])("th",{width:"120"},"Phone"),Object(o["createVNode"])("th",{width:"120"},"Address"),Object(o["createVNode"])("th",{width:"100"},"Products"),Object(o["createVNode"])("th",{width:"120"},"Total"),Object(o["createVNode"])("th",{width:"120"},"Payment"),Object(o["createVNode"])("th",{width:"120"},"EDIT")])],-1),l={class:"form-check form-switch"},s={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"};function u(e,t,r,u,b,f){var O=Object(o["resolveComponent"])("Page"),p=Object(o["resolveComponent"])("OrderModal"),h=Object(o["resolveComponent"])("DelModal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",c,[a,Object(o["createVNode"])("div",n,[Object(o["createVNode"])(O,{pages:b.totalPages,currentPage:b.currentPage,onDisplayPage:f.getOrders,class:"me-2"},null,8,["pages","currentPage","onDisplayPage"])])]),Object(o["createVNode"])("table",i,[d,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.filterData,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:t.id,class:{"table-primary":t.is_paid}},[Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.user.name),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.user.email),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.user.tel),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.user.address),1),Object(o["createVNode"])("td",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t.products,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("p",{key:e.product.id,class:"mb-0"},Object(o["toDisplayString"])(e.product.title),1)})),128))]),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.total),1),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:t.id,checked:t.is_paid,onChange:function(e){return f.putOrder(t,"isPaid")}},null,40,["id","checked","onChange"]),Object(o["createVNode"])("label",{class:"form-check-label",for:t.id},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.is_paid?"ON":"OFF")+" ",1),e.isLoading.itemID===t.id?(Object(o["openBlock"])(),Object(o["createBlock"])("span",s)):Object(o["createCommentVNode"])("",!0)],8,["for"])])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("button",{type:"button",class:["btn btn-outline-primary btn-sm",{disabled:t.is_paid}],onClick:function(e){return f.openEditModal(t)}}," EDIT ",10,["onClick"]),Object(o["createVNode"])("button",{type:"button",class:["btn btn-sm btn-outline-danger move deleteBtn",{disabled:!t.is_paid}],onClick:function(r){return e.opendeleteModal(t)}}," DELETE ",10,["onClick"])])],2)})),128))])]),Object(o["createVNode"])(p,{ref:"orderModal",data:b.tempOrder,onEditTotal:f.putOrder},null,8,["data","onEditTotal"]),Object(o["createVNode"])(h,{ref:"deleteModal",title:b.tempOrder.user.name,onDeleteData:f.deleteOrder},null,8,["title","onDeleteData"])],64)}var b=r("5530"),f=(r("99af"),{class:"modal fade",ref:"orderModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"}),O={class:"modal-dialog"},p={class:"modal-content"},h=Object(o["createVNode"])("div",{class:"modal-header"},[Object(o["createVNode"])("p",{class:"modal-title h5"},"修改訂單"),Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),j={class:"modal-body"},m={class:"table table-bordered border-secondary"},g=Object(o["createVNode"])("th",null,"Order lead time ",-1),y=Object(o["createVNode"])("th",null,"Order ID",-1),N=Object(o["createVNode"])("th",null,"Orderer",-1),v=Object(o["createVNode"])("th",null,"Email",-1),V=Object(o["createVNode"])("th",null,"Phone",-1),w=Object(o["createVNode"])("th",null,"Address",-1),D=Object(o["createVNode"])("th",null,"Product List",-1),k={class:"ms-auto"},S={class:"text-end mb-0 border-top pt-1"},P=Object(o["createVNode"])("th",null,"Coupon",-1),C=Object(o["createVNode"])("th",null,"Note",-1),E=Object(o["createVNode"])("th",null,"Payment",-1),M={class:"col"},x=Object(o["createVNode"])("label",{for:"editTotal",class:"form-label"},[Object(o["createTextVNode"])("Change Price "),Object(o["createVNode"])("span",{class:"text-danger"},"*")],-1),B={class:"modal-footer"},T=Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function F(e,t,r,c,a,n){var i=Object(o["resolveComponent"])("Field"),d=Object(o["resolveComponent"])("error-message"),l=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createBlock"])("div",f,[Object(o["createVNode"])("div",O,[Object(o["createVNode"])("div",p,[h,Object(o["createVNode"])(l,{action:"",ref:"orderForm"},{default:Object(o["withCtx"])((function(e){var r=e.errors;return[Object(o["createVNode"])("div",j,[Object(o["createVNode"])("table",m,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[g,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(new Date(1e3*a.order.create_at).toLocaleString()),1)]),Object(o["createVNode"])("tr",null,[y,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.id),1)]),Object(o["createVNode"])("tr",null,[N,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.user.name),1)]),Object(o["createVNode"])("tr",null,[v,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.user.email),1)]),Object(o["createVNode"])("tr",null,[V,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[w,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.user.address),1)]),Object(o["createVNode"])("tr",null,[D,Object(o["createVNode"])("td",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(a.order.products,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("p",{class:"d-flex mb-0",key:e.product.id},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.product.title)+" x "+Object(o["toDisplayString"])(e.qty)+" "+Object(o["toDisplayString"])(e.product.unit)+"= ",1),Object(o["createVNode"])("span",k,"$"+Object(o["toDisplayString"])(Math.floor(e.final_total)),1)])})),128)),Object(o["createVNode"])("p",S," Total : $"+Object(o["toDisplayString"])(Math.floor(a.order.total)),1)])]),Object(o["createVNode"])("tr",null,[P,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.percent)+"折",1)]),Object(o["createVNode"])("tr",null,[C,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.message),1)]),Object(o["createVNode"])("tr",null,[E,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(a.order.is_paid?"已付款":"未付款"),1)])])]),Object(o["createVNode"])("div",M,[x,Object(o["createVNode"])(i,{id:"editTotal",name:"Change Price",type:"number",class:["form-control",{"is-invalid":r["Change Price"]}],rules:"min_value:0",modelValue:a.order.total,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.order.total=e})},null,8,["class","modelValue"]),Object(o["createVNode"])(d,{name:"Change Price",class:"invalid-feedback"})])]),Object(o["createVNode"])("div",B,[T,Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return n.editTotal&&n.editTotal.apply(n,arguments)})}," EDIT ")])]})),_:1},512)])])],512)}r("b64b");var L=r("7c2b"),_=r.n(L),$={data:function(){return{modal:{},order:{user:{}},percent:0}},emits:["editToal"],props:["data"],methods:{editTotal:function(){this.$emit("editToal",this.order),this.hideModal()},showModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()},getPercent:function(){var e=Object.keys(this.order.products)[0];this.percent=this.order.products[e].coupon?"".concat(this.order.products[e].coupon.percent):"Not useing"}},mounted:function(){this.modal=new _.a(this.$refs.orderModal)},watch:{data:function(e){this.order=e,this.getPercent()}}};$.render=F;var I=$,J=r("b810"),A={data:function(){return{orders:[],tempOrder:{user:{}},currentPage:1,totalPages:0}},components:{OrderModal:I,DelModal:J["a"]},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPage,r="".concat("https://vue3-course-api.hexschool.io/","/api/").concat("vueliveclass","/admin/orders?page=").concat(t);this.isLoading.status=!0,this.$http.get(r).then((function(t){t.data.success?(e.orders=t.data.orders,e.totalPages=t.data.pagination.total_Pages,e.isLoading.status=!1):e.swal(t.data.message,"error")})).catch((function(){e.swal("Fail","error")}))},putOrder:function(e,t){var r=this,o={data:Object(b["a"])({},e)},c="".concat("https://vue3-course-api.hexschool.io/","/api/").concat("vueliveclass","/admin/order/").concat(o.data.id);this.isLoading.itemID=e.id,"isPaid"===t&&(o.data.is_paid=!o.data.is_paid),this.$http.put(c,o).then((function(e){e.data.success?(r.swal(e.data.message),r.getOrders(),r.isLoading.itemID=""):r.swal(e.data.message,"error")})).catch((function(){r.swal("Fail","error")}))},deleteOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","/api/").concat("vueliveclass","/admin/order/").concat(this.tempOrder.id);this.isLoading.itemID=this.tempOrder.id,this.$http.delete(t).then((function(t){t.data.success?(e.$refs.deleteModal.hideModal(),e.getOrders(),e.swal(t.data.message),e.isLoading.itemID=""):e.swal(t.data.message,"error")})).catch((function(){e.swal("Fail","error")}))},openDeleteModal:function(e){this.tempOrder=Object(b["a"])({},e),this.$refs.deleteModal.showModal()},openEditModal:function(e){this.tempOrder=JSON.parse(JSON.stringify(e)),this.$refs.orderModal.showModal()}},created:function(){this.getOrders()}};A.render=u;t["default"]=A},"746f":function(e,t,r){var o=r("428f"),c=r("5135"),a=r("e538"),n=r("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});c(t,e)||n(t,e,{value:a.f(e)})}},a4d3:function(e,t,r){"use strict";var o=r("23e7"),c=r("da84"),a=r("d066"),n=r("c430"),i=r("83ab"),d=r("4930"),l=r("fdbf"),s=r("d039"),u=r("5135"),b=r("e8b5"),f=r("861d"),O=r("825a"),p=r("7b0b"),h=r("fc6a"),j=r("c04e"),m=r("5c6c"),g=r("7c73"),y=r("df75"),N=r("241c"),v=r("057f"),V=r("7418"),w=r("06cf"),D=r("9bf2"),k=r("d1e7"),S=r("9112"),P=r("6eeb"),C=r("5692"),E=r("f772"),M=r("d012"),x=r("90e3"),B=r("b622"),T=r("e538"),F=r("746f"),L=r("d44e"),_=r("69f3"),$=r("b727").forEach,I=E("hidden"),J="Symbol",A="prototype",R=B("toPrimitive"),q=_.set,Q=_.getterFor(J),U=Object[A],W=c.Symbol,z=a("JSON","stringify"),G=w.f,H=D.f,K=v.f,X=k.f,Y=C("symbols"),Z=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),re=C("wks"),oe=c.QObject,ce=!oe||!oe[A]||!oe[A].findChild,ae=i&&s((function(){return 7!=g(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,r){var o=G(U,t);o&&delete U[t],H(e,t,r),o&&e!==U&&H(U,t,o)}:H,ne=function(e,t){var r=Y[e]=g(W[A]);return q(r,{type:J,tag:e,description:t}),i||(r.description=t),r},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},de=function(e,t,r){e===U&&de(Z,t,r),O(e);var o=j(t,!0);return O(r),u(Y,o)?(r.enumerable?(u(e,I)&&e[I][o]&&(e[I][o]=!1),r=g(r,{enumerable:m(0,!1)})):(u(e,I)||H(e,I,m(1,{})),e[I][o]=!0),ae(e,o,r)):H(e,o,r)},le=function(e,t){O(e);var r=h(t),o=y(r).concat(Oe(r));return $(o,(function(t){i&&!ue.call(r,t)||de(e,t,r[t])})),e},se=function(e,t){return void 0===t?g(e):le(g(e),t)},ue=function(e){var t=j(e,!0),r=X.call(this,t);return!(this===U&&u(Y,t)&&!u(Z,t))&&(!(r||!u(this,t)||!u(Y,t)||u(this,I)&&this[I][t])||r)},be=function(e,t){var r=h(e),o=j(t,!0);if(r!==U||!u(Y,o)||u(Z,o)){var c=G(r,o);return!c||!u(Y,o)||u(r,I)&&r[I][o]||(c.enumerable=!0),c}},fe=function(e){var t=K(h(e)),r=[];return $(t,(function(e){u(Y,e)||u(M,e)||r.push(e)})),r},Oe=function(e){var t=e===U,r=K(t?Z:h(e)),o=[];return $(r,(function(e){!u(Y,e)||t&&!u(U,e)||o.push(Y[e])})),o};if(d||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=x(e),r=function(e){this===U&&r.call(Z,e),u(this,I)&&u(this[I],t)&&(this[I][t]=!1),ae(this,t,m(1,e))};return i&&ce&&ae(U,t,{configurable:!0,set:r}),ne(t,e)},P(W[A],"toString",(function(){return Q(this).tag})),P(W,"withoutSetter",(function(e){return ne(x(e),e)})),k.f=ue,D.f=de,w.f=be,N.f=v.f=fe,V.f=Oe,T.f=function(e){return ne(B(e),e)},i&&(H(W[A],"description",{configurable:!0,get:function(){return Q(this).description}}),n||P(U,"propertyIsEnumerable",ue,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:W}),$(y(re),(function(e){F(e)})),o({target:J,stat:!0,forced:!d},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var r=W(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){ce=!0},useSimple:function(){ce=!1}}),o({target:"Object",stat:!0,forced:!d,sham:!i},{create:se,defineProperty:de,defineProperties:le,getOwnPropertyDescriptor:be}),o({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:fe,getOwnPropertySymbols:Oe}),o({target:"Object",stat:!0,forced:s((function(){V.f(1)}))},{getOwnPropertySymbols:function(e){return V.f(p(e))}}),z){var pe=!d||s((function(){var e=W();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}));o({target:"JSON",stat:!0,forced:pe},{stringify:function(e,t,r){var o,c=[e],a=1;while(arguments.length>a)c.push(arguments[a++]);if(o=t,(f(t)||void 0!==e)&&!ie(e))return b(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!ie(t))return t}),c[1]=t,z.apply(null,c)}})}W[A][R]||S(W[A],R,W[A].valueOf),L(W,J),M[I]=!0},b0c0:function(e,t,r){var o=r("83ab"),c=r("9bf2").f,a=Function.prototype,n=a.toString,i=/^\s*function ([^ (]*)/,d="name";o&&!(d in a)&&c(a,d,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(e){return""}}})},b64b:function(e,t,r){var o=r("23e7"),c=r("7b0b"),a=r("df75"),n=r("d039"),i=n((function(){a(1)}));o({target:"Object",stat:!0,forced:i},{keys:function(e){return a(c(e))}})},b727:function(e,t,r){var o=r("0366"),c=r("44ad"),a=r("7b0b"),n=r("50c4"),i=r("65f0"),d=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,s=4==e,u=6==e,b=7==e,f=5==e||u;return function(O,p,h,j){for(var m,g,y=a(O),N=c(y),v=o(p,h,3),V=n(N.length),w=0,D=j||i,k=t?D(O,V):r||b?D(O,0):void 0;V>w;w++)if((f||w in N)&&(m=N[w],g=v(m,w,y),e))if(t)k[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:d.call(k,m)}else switch(e){case 4:return!1;case 7:d.call(k,m)}return u?-1:l||s?s:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},b810:function(e,t,r){"use strict";var o=r("7a23"),c={class:"modal fade",ref:"modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},a={class:"modal-dialog"},n={class:"modal-content"},i=Object(o["createVNode"])("div",{class:"modal-header"},[Object(o["createVNode"])("p",{class:"modal-title h5 text-danger"},"Delete"),Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-body"},l={class:"modal-footer"},s=Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function u(e,t,r,u,b,f){return Object(o["openBlock"])(),Object(o["createBlock"])("div",c,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",n,[i,Object(o["createVNode"])("div",d,[Object(o["createVNode"])("p",null,"Sure to delete[ "+Object(o["toDisplayString"])(r.tab)+" ][ "+Object(o["toDisplayString"])(r.title)+"] ?",1)]),Object(o["createVNode"])("div",l,[s,Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:t[1]||(t[1]=function(t){return e.$emit("delete-data")})}," Delete ")])])])],512)}var b=r("7c2b"),f=r.n(b),O={data:function(){return{modal:{}}},emits:["delete-data"],props:["title","tab"],methods:{showModal:function(){this.modal.show()},hodeModal:function(){this.modal.hide()}},mounted:function(){this.modal=new f.a(this.$refs.modal)}};O.render=u;t["a"]=O},dbb4:function(e,t,r){var o=r("23e7"),c=r("83ab"),a=r("56ef"),n=r("fc6a"),i=r("06cf"),d=r("8418");o({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,r,o=n(e),c=i.f,l=a(o),s={},u=0;while(l.length>u)r=c(o,t=l[u++]),void 0!==r&&d(s,t,r);return s}})},e439:function(e,t,r){var o=r("23e7"),c=r("d039"),a=r("fc6a"),n=r("06cf").f,i=r("83ab"),d=c((function(){n(1)})),l=!i||d;o({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return n(a(e),t)}})},e538:function(e,t,r){var o=r("b622");t.f=o}}]);
//# sourceMappingURL=chunk-63286cef.57e0116a.js.map